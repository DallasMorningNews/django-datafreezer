{% extends 'datafreezer/base.html' %}

{% load staticfiles %}

{% block custom_meta %}
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta content="" name="description" />
    <title></title>
    <meta property="og:url" content="" />
    <meta property="og:title" content="" />
    <meta property="og:description" content="" name="description" />
    <meta property="og:image" content="" />
    <meta property="og:image:height" content="" />
    <meta property="og:image:width" content="" />
    <meta property="og:type" content="article" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />

    <meta name="liveFyreID" content="" />

    <meta name="parsely-page" id='parsely-page' content='{"title": "", "link": "", "image_url": "", "type": "post", "post_id": "", "pub_date": "", "section": "", "author": [""], "tags": [""]}' />

    <meta property="og:keywords" content="" />

    <meta name="news_keywords" content="" />
{% endblock %}

{% block custom_head %}
    <style media="screen">
        .homepage-content {
            background: #FFFFFF;
            padding: 1rem 1rem 0;
        }
    </style>
{% endblock %}

{% block ad %}
    <script type="text/javascript" src="http://www.googletagservices.com/tag/js/gpt.js"></script>
    <script type="text/javascript">
        DFP_networkId = "11222444";
        var DFPSlotSizes = [];
        if (jQuery(window).width() < 768) {
            var DFP_sitepage = "m.DMN/interactives";
            DFPSlotSizes = [320, 50]
            var adSlot0 = googletag.defineSlot('/' + DFP_networkId + '/' + DFP_sitepage, DFPSlotSizes, "dfpAdPositionTop");
            adSlot0.setTargeting("position", "x01");
            adSlot0.addService(googletag.pubads());
            /*
            var adSlot1 = googletag.defineSlot('/' + DFP_networkId + '/' + DFP_sitepage, DFPSlotSizes, "dfpAdPositionMiddle");
            adSlot1.setTargeting("position", "x02");
            adSlot1.addService(googletag.pubads());
            */
            /*
            var adSlot2 = googletag.defineSlot('/' + DFP_networkId + '/' + DFP_sitepage, DFPSlotSizes, "dfpAdPositionBottom");
            adSlot2.setTargeting("position", "x03");
            adSlot2.addService(googletag.pubads());
            */
        } else {
            var DFP_sitepage = "DMN/interactives";
            DFPSlotSizes = [728, 90]
            var adSlot0 = googletag.defineSlot('/' + DFP_networkId + '/' + DFP_sitepage, DFPSlotSizes, "dfpAdPositionTop");
            adSlot0.setTargeting("position", "Top");
            adSlot0.addService(googletag.pubads());
            /*
            var adSlot1 = googletag.defineSlot('/' + DFP_networkId + '/' + DFP_sitepage, DFPSlotSizes, "dfpAdPositionMiddle");
            adSlot1.setTargeting("position", "Top");
            adSlot1.addService(googletag.pubads());
            */
            /*
            var adSlot2 = googletag.defineSlot('/' + DFP_networkId + '/' + DFP_sitepage, DFPSlotSizes, "dfpAdPositionBottom");
            adSlot2.setTargeting("position", "Top");
            adSlot2.addService(googletag.pubads());
            */
        }
    </script>
    <script type="text/javascript">
        googletag.pubads().enableSingleRequest();
        googletag.pubads().enableSyncRendering();
        googletag.enableServices();
    </script>
{% endblock %}

{% block heading %}{% endblock heading %}

{% block content %}
    <div class="homepage-content">
        <div class="jumbotron">
            <div class="container">
                <h1>Datafreezer</h1>
                <p>Datafreezer is a newsroom tool that enables reporters and editors to easily share datasets. To get started, click <b>BROWSE ALL</b> or <b>UPLOAD</b> below to browse saved datasets or upload a dataset.</p>
                <p>
                    <a href="{% url 'datafreezer_browse_all' %}" class="btn btn-primary btn-lg">Browse all</a>
                    <a href="{% url 'datafreezer_upload' %}" class="btn btn-primary btn-lg">Upload</a>
                </p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <div class="list-group">
                    <a href="{% url 'datafreezer_browse_all' %}" class="list-group-item active">
                        <h4 class="list-group-item-heading">Browse</h4>
                        <p class="list-group-item-text">Click a subhead to see what other users have uploaded.</p>
                    </a>
                    <a href="{% url 'datafreezer_browse_all' %}" class="list-group-item">
                        <h4 class="list-group-item-heading">All Uploads</h4>
                        <p class="list-group-item-text">See all uploads.</p>
                    </a>
                    <a href="{% url 'datafreezer_browse_tags' %}" class="list-group-item">
                        <h4 class="list-group-item-heading">Tags</h4>
                        <p class="list-group-item-text">See all uploads grouped by tag.</p>
                    </a>
                    <a href="{% url 'datafreezer_browse_hubs' %}" class="list-group-item">
                        <h4 class="list-group-item-heading">Hubs</h4>
                        <p class="list-group-item-text">See all uploads grouped by hub.</p>
                    </a>
                    <a href="{% url 'datafreezer_browse_verticals' %}" class="list-group-item">
                        <h4 class="list-group-item-heading">Verticals</h4>
                        <p class="list-group-item-text">See all uploads grouped by vertical.</p>
                    </a>
                    <a href="{% url 'datafreezer_browse_authors' %}" class="list-group-item">
                        <h4 class="list-group-item-heading">Authors</h4>
                        <p class="list-group-item-text">See all dataset contributors' uploads.</p>
                    </a>
                    <a href="{% url 'datafreezer_browse_sources' %}" class="list-group-item">
                        <h4 class="list-group-item-heading">Sources</h4>
                        <p class="list-group-item-text">See from where our datasets are sourced.</p>
                    </a>
                </div>
            </div>
            <div class="col-sm-8">
                <div class="panel panel-default">
                {% if recent_uploads %}
                    <div class="panel-heading">
                        <h4 class="panel-title">Recent Uploads</h4>
                    </div>

                    <table class="table table-hover panel-body">
                        <tbody>
                            <th>Title</th>
                            <th>Uploaded</th>
                            <th>View</th>
                        {% for upload in recent_uploads %}
                            <tr>
                                <td>{{ upload.title }}</td>
                                <td>{{ upload.date_uploaded|date:"N j" }}</td>
                                <td>
                                    <a href="{% url 'datafreezer_dataset_detail' upload.id %}" class="btn btn-primary btn-block" role="button">
                                        <span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>
                                    </a>
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                {% else %}
                    {% block no_results_msg %}{{ block.super }}{% endblock no_results_msg %}
                {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock content %}

{% block custom_foot %}
    <script type="text/javascript"></script>
{% endblock %}

{% block custom_social_meta %}
    <script type="text/javascript">
        var storyTitle = "",
            storyURL = "",
            leadText = "",
            storyIMG = "",
            storyAuthor = "",
            twitterTag = "",
            comments = true,
            share = true;
        OAS_sitepage = 'www.dallasnews.com/';
    </script>
{% endblock %}